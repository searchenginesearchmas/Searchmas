<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Searchmas</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="icon" href="favicon.png">

<script async src="https://cse.google.com/cse.js?cx=949e339dabb3b4e60"></script>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:
    url("Santa.png") left center / 50% 100vh no-repeat fixed,
    url("Santa.png") right center / 50% 100vh no-repeat fixed,
    #f2f2f2;
}

.wrapper{
  display:flex;
  flex-direction:column;
  align-items:center;
  padding-top:60px;
}

.logo{
  font-size:42px;
  font-weight:bold;
  color:#e53935;
  margin-bottom:20px;
}

.searchBar{
  display:flex;
  gap:10px;
  width:95%;
  max-width:900px;
}

.searchBar input{
  flex:1;
  padding:14px;
  font-size:16px;
  border-radius:999px;
  border:1px solid #ddd;
}

.searchBar button{
  padding:14px 22px;
  border:none;
  border-radius:999px;
  background:#e53935;
  color:white;
  font-weight:bold;
  cursor:pointer;
}

.tabs{
  margin-top:20px;
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}

.tabBtn{
  padding:10px 18px;
  border-radius:999px;
  border:none;
  background:#eee;
  cursor:pointer;
  font-weight:bold;
}

.tabBtn.active{
  background:#e53935;
  color:white;
}

.backBtn{
  margin-top:20px;
  background:#555;
  color:white;
  border:none;
  border-radius:999px;
  padding:10px 18px;
  cursor:pointer;
}

.resultsCard{
  margin-top:25px;
  background:white;
  border-radius:20px;
  box-shadow:0 8px 30px rgba(0,0,0,0.15);
  padding:20px;
  width:95%;
  max-width:900px;
}

.newsCard{
  display:flex;
  align-items:center;
  gap:14px;
  padding:14px;
  border-radius:14px;
  text-decoration:none;
  color:black;
  box-shadow:0 2px 8px rgba(0,0,0,.08);
  margin-bottom:12px;
}

.newsCard img{
  width:32px;
  height:32px;
}
</style>
</head>

<body>

<div class="wrapper">

<div class="logo">Searchmas</div>

<div class="searchBar">
  <input id="searchInput" placeholder="Search Searchmas...">
  <button onclick="search()">Search</button>
</div>

<div class="tabs">
  <button class="tabBtn active" onclick="switchTab('all', this)">All</button>
  <button class="tabBtn" onclick="switchTab('videos', this)">Videos</button>
  <button class="tabBtn" onclick="switchTab('images', this)">Images</button>
  <button class="tabBtn" onclick="switchTab('news', this)">News</button>
</div>

<button class="backBtn" onclick="goHome()">Back</button>

<div id="resultsRoot"></div>

</div>

<script>
let currentQuery="";
let currentTab="all";

function search(){
  const q=document.getElementById("searchInput").value.trim();
  if(!q) return;
  currentQuery=q;
  loadTab(currentTab);
}

function goHome(){
  document.getElementById("resultsRoot").innerHTML="";
}

function switchTab(tab,el){
  document.querySelectorAll(".tabBtn").forEach(b=>b.classList.remove("active"));
  el.classList.add("active");
  currentTab=tab;
  if(currentQuery) loadTab(tab);
}

function loadTab(tab){
  if(tab==="all") loadAll();
  if(tab==="videos") loadVideos();
  if(tab==="images") loadImages();
  if(tab==="news") loadNews();
}

function loadAll(){
  const enc=encodeURIComponent(currentQuery);
  document.getElementById("resultsRoot").innerHTML=`
    <div class="resultsCard">
      <div class="gcse-searchresults-only"></div>
    </div>
  `;
  location.hash="#gsc.tab=0&gsc.q="+enc+"&gsc.page=1";
}

function loadVideos(){
  document.getElementById("resultsRoot").innerHTML=`
    <div class="resultsCard">
      <a class="newsCard" target="_blank"
      href="https://www.youtube.com/results?search_query=${encodeURIComponent(currentQuery)}">
        <img src="https://youtube.com/favicon.ico">
        <div>
          <strong>YouTube Videos</strong><br>
          Watch videos about ${currentQuery}
        </div>
      </a>
    </div>
  `;
}

function loadImages(){
  document.getElementById("resultsRoot").innerHTML=`
    <div class="resultsCard">
      <a class="newsCard" target="_blank"
      href="https://www.google.com/search?tbm=isch&q=${encodeURIComponent(currentQuery)}">
        <img src="https://google.com/favicon.ico">
        <div>
          <strong>Google Images</strong><br>
          View image results for ${currentQuery}
        </div>
      </a>
    </div>
  `;
}

function loadNews(){
  const enc=encodeURIComponent(currentQuery);

  document.getElementById("resultsRoot").innerHTML=`
    <div class="resultsCard">

      <a class="newsCard" target="_blank"
      href="https://news.google.com/search?q=${enc}">
        <img src="https://news.google.com/favicon.ico">
        <div>
          <strong>Google News</strong><br>
          Latest news about ${currentQuery}
        </div>
      </a>

      <a class="newsCard" target="_blank"
      href="https://www.bing.com/news/search?q=${enc}">
        <img src="https://bing.com/favicon.ico">
        <div>
          <strong>Bing News</strong><br>
          Trending news about ${currentQuery}
        </div>
      </a>

    </div>
  `;
}
</script>

</body>
</html>
