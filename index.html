<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Searchmas ðŸŽ…ðŸŽ„</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body { margin:0; font-family:sans-serif; color:#fff; }
    .split { display:flex; min-height:100vh; }
    .half { flex:1; background:url('https://cdn.fcglcdn.com/brainbees/images/products/583x720/19208325a.webp') center/cover no-repeat; }
    .card { position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); width:min(900px,92vw); padding:20px; background:rgba(0,0,0,0.65); border-radius:16px; }
    h1 { margin:0 0 12px; text-align:center; font-size:2em; }
    .bar { display:flex; gap:10px; margin-bottom:12px; }
    .bar input { flex:1; padding:12px; border-radius:8px; border:1px solid #444; background:#1b1b1b; color:#fff; }
    .bar button { padding:12px; border-radius:8px; border:none; background:#ff5ca8; color:#fff; cursor:pointer; }
    .tabs { display:flex; gap:8px; flex-wrap:wrap; margin:12px 0; }
    .tabs button { padding:8px 12px; border-radius:6px; background:#333; color:#fff; border:none; cursor:pointer; }
    .tabs button.active { background:#ff5ca8; }
    #content { margin-top:16px; }
    .item { margin-bottom:12px; display:flex; align-items:center; gap:10px; }
    .item img { width:32px; height:32px; }
    .item a { color:#fff; text-decoration:none; font-weight:bold; }
    .item a:hover { text-decoration:underline; }
    .row { display:flex; gap:8px; flex-wrap:wrap; }
    .row .pill { background:#222; padding:8px 12px; border-radius:999px; }
  </style>
</head>
<body>
  <div class="split">
    <div class="half"></div>
    <div class="half"></div>
    <div class="card">
      <h1>Searchmas ðŸŽ…ðŸŽ„</h1>

      <div class="bar">
        <input id="username" type="text" placeholder="Username">
        <button id="setUser">Set</button>
      </div>

      <div class="bar">
        <input id="q" type="text" placeholder="Searchâ€¦">
        <button id="go">Search</button>
      </div>

      <div class="tabs">
        <button id="tabWeb" class="active">Web</button>
        <button id="tabImages">Images</button>
        <button id="tabVideos">Videos</button>
        <button id="tabNews">News</button>
        <button id="tabDiscuss">Discuss</button>
        <button id="tabHistory">History</button>
      </div>

      <div id="content"></div>
    </div>
  </div>

  <script>
    const usernameEl = document.getElementById('username');
    const setUserBtn = document.getElementById('setUser');
    const qEl = document.getElementById('q');
    const goBtn = document.getElementById('go');
    const content = document.getElementById('content');
    const tabs = ['tabWeb','tabImages','tabVideos','tabNews','tabDiscuss','tabHistory'];
    let currentUser = localStorage.getItem('searchmasUsername') || '';

    if (currentUser) usernameEl.value = currentUser;

    function setActive(id){
      tabs.forEach(t => document.getElementById(t).classList.remove('active'));
      document.getElementById(id).classList.add('active');
    }

    function getQuery(){ return (qEl.value || '').trim(); }

    function ensureUser(){
      const name = (usernameEl.value || '').trim();
      if(!name){ content.innerHTML = 'Enter a username to save history.'; return false; }
      currentUser = name;
      localStorage.setItem('searchmasUsername', name);
      return true;
    }

    function saveSearch(q){
      if(!currentUser) return;
      const key = currentUser + '_history';
      const hist = JSON.parse(localStorage.getItem(key) || '[]');
      hist.unshift({ q, ts: new Date().toISOString() });
      localStorage.setItem(key, JSON.stringify(hist.slice(0,200)));
    }

    function faviconFor(url){
      try { return 'https://www.google.com/s2/favicons?domain=' + encodeURIComponent(new URL(url).hostname); }
      catch { return 'https://www.google.com/favicon.ico'; }
    }

    function item(label,url){
      return `<div class="item"><img src="${faviconFor(url)}" alt=""><a href="${url}" target="_blank">${label}</a></div>`;
    }

    function showWeb(){
      const q = getQuery(); if(!q){ content.innerHTML = 'Type a query.'; return; }
      setActive('tabWeb'); saveSearch(q);
      content.innerHTML =
        item('Google: '+q, 'https://www.google.com/search?q='+encodeURIComponent(q)) +
        item('Bing: '+q, 'https://www.bing.com/search?q='+encodeURIComponent(q)) +
        item('DuckDuckGo: '+q, 'https://duckduckgo.com/?q='+encodeURIComponent(q)) +
        item('Wikipedia: '+q, 'https://en.wikipedia.org/wiki/Special:Search?search='+encodeURIComponent(q));
    }

    function showImages(){
      const q = getQuery(); if(!q){ content.innerHTML = 'Type a query.'; return; }
      setActive('tabImages'); saveSearch(q);
      content.innerHTML =
        item('Google Images: '+q, 'https://www.google.com/search?tbm=isch&q='+encodeURIComponent(q)) +
        item('Bing Images: '+q, 'https://www.bing.com/images/search?q='+encodeURIComponent(q)) +
        item('Yandex Images: '+q, 'https://yandex.com/images/search?text='+encodeURIComponent(q));
    }

    function showVideos(){
      const q = getQuery(); if(!q){ content.innerHTML = 'Type a query.'; return; }
      setActive('tabVideos'); saveSearch(q);
      content.innerHTML =
        item('YouTube: '+q, 'https://www.youtube.com/results?search_query='+encodeURIComponent(q)) +
        item('Bing Videos: '+q, 'https://www.bing.com/videos/search?q='+encodeURIComponent(q)) +
        item('Vimeo: '+q, 'https://vimeo.com/search?q='+encodeURIComponent(q));
    }

    function showNews(){
      const q = getQuery(); if(!q){ content.innerHTML = 'Type a query.'; return; }
      setActive('tabNews'); saveSearch(q);
      content.innerHTML =
        `<div class="item"><img src="https://www.gstatic.com/images/branding/product/2x/news_96dp.png" alt=""><a href="https://news.google.com/search?q=${encodeURIComponent(q)}" target="_blank">Google News: ${q}</a></div>` +
        item('Bing News: '+q, 'https://www.bing.com/news/search?q='+encodeURIComponent(q)) +
        item('Reuters: '+q, 'https://www.reuters.com/search/news?blob='+encodeURIComponent(q));
    }

    function showDiscuss(){
      const q = getQuery(); if(!q){ content.innerHTML = 'Type a query.'; return; }
      setActive('tabDiscuss'); saveSearch(q);
      content.innerHTML =
        item('Reddit: '+q, 'https://www.reddit.com/search/?q='+encodeURIComponent(q)) +
        item('Quora: '+q, 'https://www.quora.com/search?q='+encodeURIComponent(q)) +
        item('Stack Overflow: '+q, 'https://stackoverflow.com/search?q='+encodeURIComponent(q));
    }

    function showHistory(){
      if(!ensureUser()) return;
      setActive('tabHistory');
      const key = currentUser + '_history';
      const hist = JSON.parse(localStorage.getItem(key) || '[]');
      if(hist.length===0){ content.innerHTML = 'No history yet.'; return; }
      content.innerHTML = '<div class="row">' + hist.slice(0,50).map(h => `<span class="pill">${h.q}</span>`).join('') + '</div>';
    }

    setUserBtn.onclick = ensureUser;
    goBtn.onclick = showWeb;
    qEl.addEventListener('keydown', e => { if(e.key==='Enter') showWeb(); });
    document.getElementById('tabWeb').onclick = showWeb;
    document.getElementById('tabImages').onclick = showImages;
    document.get
