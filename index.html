<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Searchmas</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#121212;
  color:white;
}

header{
  background:#ff0000;
  padding:12px 15px;
  font-size:22px;
  font-weight:bold;
}

#searchBox{
  padding:10px;
}

input{
  width:100%;
  padding:12px;
  font-size:16px;
  border:none;
  border-radius:10px;
  outline:none;
}

#content{
  padding:10px;
}
</style>

<script async src="https://cse.google.com/cse.js?cx=949e339dabb3b4e60"></script>

</head>

<body>

<header>Searchmas</header>

<div id="searchBox">
  <input id="q" placeholder="Search..." onkeydown="if(event.key==='Enter')go()">
</div>

<div id="content">
  <div class="gcse-searchresults-only"></div>
</div>

<script>
const input = document.getElementById("q");

const params = new URLSearchParams(location.search);
const query = params.get("q");

if(query){
  input.value = query;
  run(query);
}

function go(){
  const q = input.value.trim();
  if(!q) return;
  history.replaceState(null,"","?q="+encodeURIComponent(q));
  run(q);
}

function run(q){
  function wait(){
    if(window.google && google.search && google.search.cse){
      const el = google.search.cse.element.getElement("searchresults-only0");
      if(el) el.execute(q);
      else setTimeout(wait,150);
    }else{
      setTimeout(wait,150);
    }
  }
  wait();
}
</script>

</body>
</html>
