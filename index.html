<!DOCTYPE html>
<html lang="en">
<head>
  <title>Searchmas</title>
  <link rel="icon" href="favicon.ico">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    * { box-sizing: border-box; font-family: Arial, sans-serif; }

    body {
      margin: 0;
      min-height: 100vh;
      background:
        url("Santa.png") left top / 50% 100% repeat-y,
        url("Santa.png") right top / 50% 100% repeat-y;
      background-color: #f5f5f5;
      color: #202124;
    }

    @media (max-width: 700px) {
      body {
        background: url("Santa.png") center top / contain repeat-y;
      }
    }

    .home, .results-page {
      padding: 40px 10px;
      text-align: center;
    }

    .hidden { display: none; }

    .logo {
      font-size: 52px;
      font-weight: bold;
      margin-bottom: 20px;
    }

    .logo span:nth-child(1){color:#4285f4}
    .logo span:nth-child(2){color:#ea4335}
    .logo span:nth-child(3){color:#fbbc05}
    .logo span:nth-child(4){color:#34a853}
    .logo span:nth-child(5){color:#ff6d00}
    .logo span:nth-child(6){color:#00acc1}
    .logo span:nth-child(7){color:#ab47bc}
    .logo span:nth-child(8){color:#ff7043}

    .search-box {
      width: 90%;
      max-width: 520px;
      padding: 14px 18px;
      font-size: 18px;
      border-radius: 24px;
      border: 1px solid #ccc;
      outline: none;
    }

    .tabs {
      margin-top: 18px;
      display: flex;
      justify-content: center;
      gap: 10px;
      flex-wrap: wrap;
    }

    .tabs button {
      border: none;
      background: white;
      padding: 8px 14px;
      border-radius: 20px;
      cursor: pointer;
    }

    .topbar {
      display: flex;
      gap: 10px;
      align-items: center;
      margin-bottom: 15px;
      flex-wrap: wrap;
    }

    .topbar input {
      flex: 1;
      padding: 10px;
      border-radius: 20px;
      border: 1px solid #ccc;
    }

    .topbar button {
      padding: 10px 14px;
      border: none;
      border-radius: 18px;
      cursor: pointer;
      background: #eee;
    }

    .results {
      max-width: 900px;
      margin: auto;
      text-align: left;
    }

    .result-item {
      margin-bottom: 18px;
    }

    .result-title {
      font-size: 17px;
      color: #1a0dab;
      cursor: pointer;
    }

    .result-url {
      font-size: 13px;
      color: #006621;
    }

    .image-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill,minmax(140px,1fr));
      gap: 10px;
    }

    .image-grid img {
      width: 100%;
      border-radius: 8px;
    }

    @media (max-width: 600px) {
      .logo { font-size: 40px; }
    }
  </style>
</head>
<body>

<!-- HOME -->
<div class="home" id="home">
  <div class="logo">
    <span>S</span><span>e</span><span>a</span><span>r</span><span>c</span><span>h</span><span>m</span><span>a</span><span>s</span>
  </div>
  <input class="search-box" id="homeSearch" placeholder="Search the web...">
  <div class="tabs">
    <button onclick="startSearch('all')">All</button>
    <button onclick="startSearch('images')">Images</button>
    <button onclick="startSearch('videos')">Videos</button>
    <button onclick="startSearch('news')">News</button>
    <button onclick="startSearch('flights')">Flights</button>
  </div>
</div>

<!-- RESULTS PAGE -->
<div class="results-page hidden" id="resultsPage">
  <div class="topbar">
    <button onclick="goHome()">‚Üê Back</button>
    <input id="resultSearch">
    <button onclick="rerun()">Search</button>
  </div>
  <div class="results" id="results"></div>
</div>

<script>
let activeTab = "all";
const UNSPLASH_KEY = "YOUR_UNSPLASH_KEY";

function startSearch(tab) {
  const q = document.getElementById("homeSearch").value.trim();
  if (!q) return;
  activeTab = tab;
  runSearch(q);
}

function runSearch(q) {
  document.getElementById("home").classList.add("hidden");
  document.getElementById("resultsPage").classList.remove("hidden");
  document.getElementById("resultSearch").value = q;

  const url = new URL(window.location.href);
  url.searchParams.set("q", q);
  window.history.pushState({}, "", url);

  const res = document.getElementById("results");
  res.innerHTML = "";

  if (activeTab === "images") {
    fetch(`https://api.unsplash.com/search/photos?query=${encodeURIComponent(q)}&per_page=12&client_id=${UNSPLASH_KEY}`)
      .then(r => r.json())
      .then(data => {
        res.innerHTML = `<div class="image-grid">
          ${data.results.map(img => `<img src="${img.urls.small}" alt="">`).join("")}
        </div>`;
      });
    return;
  }

  if (activeTab === "flights") {
    res.innerHTML = `
      <div class="result-item">
        <div class="result-title" onclick="window.open('https://www.flightradar24.com','_blank')">Open FlightRadar24</div>
        <div class="result-url">flightradar24.com</div>
      </div>`;
    return;
  }

  const map = {
    all: "https://www.google.com/search?q=",
    videos: "https://www.google.com/search?tbm=vid&q=",
    news: "https://news.google.com/search?q="
  };

  const link = map[activeTab] + encodeURIComponent(q);

  res.innerHTML = `
    <div class="result-item">
      <div class="result-title" onclick="window.open('${link}','_blank')">
        Search "${q}" on ${activeTab.toUpperCase()}
      </div>
      <div class="result-url">${link}</div>
    </div>`;
}

function goHome() {
  document.getElementById("resultsPage").classList.add("hidden");
  document.getElementById("home").classList.remove("hidden");
  history.pushState({}, "", location.pathname);
}

function rerun() {
  runSearch(document.getElementById("resultSearch").value.trim());
}

document.getElementById("homeSearch").addEventListener("keydown", e => {
  if (e.key === "Enter") startSearch("all");
});
document.getElementById("resultSearch").addEventListener("keydown", e => {
  if (e.key === "Enter") rerun();
});

const qp = new URLSearchParams(window.location.search).get("q");
if (qp) {
  document.getElementById("homeSearch").value = qp;
  startSearch("all");
}
</script>

</body>
</html>
