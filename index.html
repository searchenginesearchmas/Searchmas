<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Searchmas</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="icon" href="favicon.png">

<script async src="https://cse.google.com/cse.js?cx=949e339dabb3b4e60"></script>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:
    url("Santa.png") left center / 50% 100vh no-repeat fixed,
    url("Santa.png") right center / 50% 100vh no-repeat fixed,
    #f2f2f2;
}

.wrapper{
  display:flex;
  flex-direction:column;
  align-items:center;
  padding-top:60px;
}

.logo{
  font-size:42px;
  font-weight:bold;
  color:#e53935;
  margin-bottom:20px;
}

.searchBar{
  display:flex;
  gap:10px;
  width:95%;
  max-width:900px;
}

.searchBar input{
  flex:1;
  padding:14px;
  font-size:16px;
  border-radius:999px;
  border:1px solid #ddd;
}

.searchBar button{
  padding:14px 22px;
  border:none;
  border-radius:999px;
  background:#e53935;
  color:white;
  font-weight:bold;
  cursor:pointer;
}

.tabs{
  margin-top:20px;
  display:flex;
  gap:10px;
}

.tabBtn{
  padding:10px 18px;
  border-radius:999px;
  border:none;
  background:#eee;
  cursor:pointer;
  font-weight:bold;
}

.tabBtn.active{
  background:#e53935;
  color:white;
}

.backBtn{
  margin-top:20px;
  padding:10px 18px;
  border:none;
  border-radius:999px;
  background:#444;
  color:white;
  cursor:pointer;
}

.resultsCard{
  width:95%;
  max-width:900px;
  margin-top:20px;
  background:white;
  border-radius:20px;
  padding:20px;
  box-shadow:0 4px 20px rgba(0,0,0,0.1);
}
</style>
</head>

<body>

<div class="wrapper">

<div class="logo">Searchmas</div>

<div class="searchBar">
<input id="searchInput" placeholder="Search Searchmas">
<button onclick="startSearch()">Search</button>
</div>

<div class="tabs">
<button class="tabBtn active">All</button>
</div>

<button class="backBtn" onclick="goHome()">Back</button>

<div id="resultsArea"></div>

</div>

<script>
function getQueryFromURL(){
  const p=new URLSearchParams(location.search);
  return p.get("q");
}

function setURLQuery(q){
  history.replaceState(null,"","?q="+encodeURIComponent(q));
}

function startSearch(){
  const q=document.getElementById("searchInput").value.trim();
  if(!q) return;
  setURLQuery(q);
  loadPSE(q);
}

function loadPSE(q){
  const area=document.getElementById("resultsArea");

  area.innerHTML=`
    <div class="resultsCard">
      <div class="gcse-searchresults-only"></div>
    </div>
  `;

  // Give PSE time to attach
  setTimeout(()=>{
    if(window.google && google.search && google.search.cse){
      google.search.cse.element.go(q);
    }
  },400);
}

function goHome(){
  history.replaceState(null,"",location.pathname);
  document.getElementById("resultsArea").innerHTML="";
}

window.addEventListener("load",()=>{
  const q=getQueryFromURL();
  if(q){
    document.getElementById("searchInput").value=q;
    loadPSE(q);
  }
});
</script>

</body>
</html>
