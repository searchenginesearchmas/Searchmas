<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Searchmas</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="icon" href="favicon.png">

<script async src="https://cse.google.com/cse.js?cx=949e339dabb3b4e60"></script>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:
    url("Santa.png") left center / 50% 100vh no-repeat fixed,
    url("Santa.png") right center / 50% 100vh no-repeat fixed,
    #f2f2f2;
}

/* Layout */
.wrapper{
  display:flex;
  flex-direction:column;
  align-items:center;
  padding-top:60px;
}

/* Logo */
.logo{
  font-size:42px;
  font-weight:bold;
  color:#e53935;
  margin-bottom:20px;
}

/* Search */
.searchBar{
  display:flex;
  gap:10px;
  width:95%;
  max-width:900px;
}

.searchBar input{
  flex:1;
  padding:14px;
  font-size:16px;
  border-radius:999px;
  border:1px solid #ddd;
}

.searchBar button{
  padding:14px 22px;
  border:none;
  border-radius:999px;
  background:#e53935;
  color:white;
  font-weight:bold;
  cursor:pointer;
}

/* Tabs */
.tabs{
  margin-top:20px;
  display:flex;
  gap:10px;
  flex-wrap:wrap;
}

.tabBtn{
  padding:10px 18px;
  border-radius:999px;
  border:none;
  background:#eee;
  cursor:pointer;
  font-weight:bold;
}

.tabBtn.active{
  background:#e53935;
  color:white;
}

/* Back button */
.backBtn{
  margin-top:20px;
  background:#555;
  color:white;
  border:none;
  border-radius:999px;
  padding:10px 18px;
  cursor:pointer;
}

/* RESULTS CARD — ONLY RESULTS */
.resultsCard{
  margin-top:25px;
  background:white;
  border-radius:20px;
  box-shadow:0 8px 30px rgba(0,0,0,0.15);
  padding:20px;
  width:95%;
  max-width:900px;
}
</style>
</head>

<body>

<div class="wrapper">

<div class="logo">Searchmas</div>

<div class="searchBar">
  <input id="searchInput" placeholder="Search Searchmas...">
  <button onclick="search()">Search</button>
</div>

<div class="tabs">
  <button class="tabBtn active" onclick="switchTab('all', this)">All</button>
  <button class="tabBtn" onclick="switchTab('videos', this)">Videos</button>
  <button class="tabBtn" onclick="switchTab('images', this)">Images</button>
  <button class="tabBtn" onclick="switchTab('news', this)">News</button>
</div>

<button class="backBtn" onclick="goHome()">Back</button>

<!-- RESULTS AREA -->
<div id="resultsRoot"></div>

</div>

<script>
let currentQuery = "";
let currentTab = "all";

function search(){
  const q = document.getElementById("searchInput").value.trim();
  if(!q) return;

  currentQuery = q;
  loadTab(currentTab);
}

function goHome(){
  document.getElementById("resultsRoot").innerHTML = "";
}

function switchTab(tab, el){
  document.querySelectorAll(".tabBtn").forEach(b=>b.classList.remove("active"));
  el.classList.add("active");

  currentTab = tab;
  if(currentQuery) loadTab(tab);
}

function loadTab(tab){
  if(tab==="all") loadAll();
  if(tab==="videos") loadVideos();
  if(tab==="images") loadImages();
  if(tab==="news") loadNews();
}

/* ALL — PSE INSIDE RESULTS CARD */
function loadAll(){
  const enc = encodeURIComponent(currentQuery);

  document.getElementById("resultsRoot").innerHTML = `
    <div class="resultsCard">
      <div class="gcse-searchresults-only"></div>
    </div>
  `;

  location.hash = "#gsc.tab=0&gsc.q="+enc+"&gsc.page=1";
}

/* OTHER TABS — ALSO RESULTS CARD */
function loadVideos(){
  document.getElementById("resultsRoot").innerHTML = `
    <div class="resultsCard">
      <h2>Videos for "${currentQuery}"</h2>
      <p>Video results placeholder</p>
    </div>
  `;
}

function loadImages(){
  document.getElementById("resultsRoot").innerHTML = `
    <div class="resultsCard">
      <h2>Images for "${currentQuery}"</h2>
      <p>Image results placeholder</p>
    </div>
  `;
}

function loadNews(){
  document.getElementById("resultsRoot").innerHTML = `
    <div class="resultsCard">
      <h2>News for "${currentQuery}"</h2>
      <p>News results placeholder</p>
    </div>
  `;
}
</script>

</body>
</html>
